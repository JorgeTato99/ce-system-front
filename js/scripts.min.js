


/// API END POINT DATA FETCH
/// Asyn fetch function to send and get data from API
async function APIendPointData(url, data) {
   const response = await fetch(url, {
      method: 'POST',
      headers: {
         'Content-Type': 'application/json'
      },
      body: JSON.stringify(data)
	})
   return response.json()
}


/// CHECK FIELD VALUE
/// Check if value is empty or null and return empty string "" for field value
function checkValue(value){ return value ? value : "" }

/// DELETE HTML CONTENT
function borrarContenido( element ){ element.innerHTML = null }

/// ALERT MODAL

// inicialize container wrapper and append to body
let alertWrapper = document.createElement("div")
alertWrapper.id = "alertWrapper"
alertWrapper.classList.add("alertWrapper", "hidden")
alertWrapper.innerHTML = `<div class="alertModalWindow"></div>`
/// Append to body
window.addEventListener("load", function() { document.body.append(alertWrapper) } )

async function alertModal( config = {} ){

	let alertModalWindow = alertWrapper.querySelector(".alertModalWindow")
	/// set Alert UI
	alertModalWindow.innerHTML = `
		<div class="alertModalMessage">${config.messageText}</div>
		<div class="alertModalBtns">
			<button class="btnAlertOK">${config.btnOKText}</button>
			<button class="btnAlertCancel">${config.btnCancelText}</button>
		</div>`
	/// Maked visible
	alertWrapper.classList.remove("hidden")
	/// get modal elements
	let btnAlertOK = alertWrapper.querySelector(".btnAlertOK")
	let btnAlertCancel = alertWrapper.querySelector(".btnAlertCancel")

	/// Return slected value from btns eventListener
	return new Promise(resolve => {
		/// OK btn
		btnAlertOK.addEventListener("click", function(){
			alertWrapper.classList.add("hidden")
			resolve(true) // return value
		})
		/// Cancel bnt
		btnAlertCancel.addEventListener("click", function(){
			alertWrapper.classList.add("hidden")
			resolve(false) // return value
		})
	})
}


/// DROP-DOWN MENU

/// select all
let menuDropDown = document.querySelectorAll(".menuDropDown")
/// iterate containers
if(menuDropDown){

	menuDropDown.forEach(function(item){
		let menuDropDownGrup = item.querySelectorAll(".menuDropDownGrup")
		/// iterate grups
		menuDropDownGrup.forEach( function(item){
			let menuDropDownTitle = item.querySelector(".menuDropDownTitle")
			let menuDropDownContent = item.querySelector(".menuDropDownContent")
			/// add even click to titles
			menuDropDownTitle.addEventListener("click", function(){
				/// toggle visible to content
				menuDropDownGrup.forEach(function(item_){ item_.querySelector(".menuDropDownContent").classList.add("collased") })
				menuDropDownContent.classList.toggle("collased")
			})
		})
	})
}

/// TAB NAVIGATION

let navigationTabContainer = document.querySelectorAll('.navigationTabContainer')
if( navigationTabContainer ){
	/// Iterate in all intances of navigationTabContainer
	navigationTabContainer.forEach(function(item, index){

		/// get tabs and sections
		let tabs = item.querySelectorAll('.navigationTabItem')
		let sections = item.querySelectorAll('.navigationTabSection')

		/// iterate in tabs and add event to show the same index and hidde the diferents
		tabs.forEach(function(tab, indextab){

			tab.addEventListener("click", function(){

				sections.forEach(function(section, indexSection){
					if(indextab === indexSection){
						section.classList.remove("hidden")
						section.classList.add("show")
					}else{
						section.classList.add("hidden")
						section.classList.remove("show")
					}
				})

			})
		})
	})
}

/// RAMDOM DATA GENERATORS
function alphanumericRandom(length) {
   var result = ''
   var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
   var charactersLength = characters.length
   for ( var i = 0; i < length; i++ ) {
      result += characters.charAt(Math.floor(Math.random() * charactersLength))
   }
   return result
}

function numerosRandom(length) {
   var result = ''
   var characters = '0123456789'
   var charactersLength = characters.length
   for ( var i = 0; i < length; i++ ) {
      result += characters.charAt(Math.floor(Math.random() * charactersLength))
   }
   return result
}

function mayusculasRandom(length){
	var result = ''
	var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
	var charactersLength = characters.length
	for ( var i = 0; i < length; i++ ) {
    	result += characters.charAt(Math.floor(Math.random() * charactersLength))
	}
	return result
}

function CURPRandom(){
	return mayusculasRandom(4) + numerosRandom(6) + mayusculasRandom(6) + numerosRandom(2)
}

function nombreRandom(){
	let opciones = ["Antonio", "Jose", "Manuel", "Francisco", "David", "Juan", "Jose Antonio", "Javier", "Daniel", "Jose Luis", "Francisco Javier", "Carlos", "Jesus", "Alejandro", "Miguel", "Jose Manuel", "Rafael", "Miguel Angel", "Pedro", "Angel", "Maria Carmen", "Maria", "Carmen", "Josefa", "Ana Maria", "Isabel", "Maria Pilar", "Maria Dolores", "Laura", "Maria Teresa", "Ana", "Cristina", "Maria Angeles", "Marta", "Francisca", "Antonia", "Maria Isabel", "Maria Jose", "Lucia", "Dolores" ]
	return opciones[Math.floor(Math.random() * opciones.length)]
}

function apellidoRandom(){
	let opciones = ["García","Fernández","González","Rodríguez","López","Martínez","Sánchez","Pérez","Martín","Gómez","Ruiz" ]
	return opciones[Math.floor(Math.random() * opciones.length)]
}

function direcciónRandom(){
	let opciones = ["Avenida de los Insurgentes", "Chapultepec", "Bucareli", "Ámsterdam", "Álvaro Obregón", "Periférico", "Laguna Verde", "Javier", "Tláhuac", "Revolución", "Independencia", "Benito Juárez", "Calzada de Guadalupe", "Norte", "Calzada de la Viga", "Calzada de los Misterios", "Calzada de Tlalpan", "Avenida Ignacio Zaragoza", "Lázaro Cárdenas", "México-Tacuba", "Interior", "Paseo de la Reforma", "Papaloapan", "Insurgentes", "Ricardo Flores Magón", "Turbina", "Reactor", "Central", "Manzanares", "República de Argentina", "Guatemala", "Belice", "Canada", "Inglaterra", "España", "Tenochtitlan", "Olmecas", "Mayas", "Zapotecas", "Tlaxcaltecas", "Santa María", "La Niña", "Niños Héroes" ]
	return opciones[Math.floor(Math.random() * opciones.length)]
}

function afechaNacimientoRandom(){
	let mes= Math.floor( Math.random() * (12 - 1) + 1 )
	let dia= Math.floor( Math.random() * (28 - 1) + 1 )
	let anio= Math.floor( Math.random() * (2005 - 1950) + 1950 )
	return `${anio}-${ mes > 9 ? mes : ( "0" + mes ) }-${ dia > 9 ? dia : ( "0" + dia ) }`
}

function getEdad(nacimiento) {
	var today = new Date()
	var birthDate = new Date(nacimiento)
	var age = today.getFullYear() - birthDate.getFullYear()
	var m = today.getMonth() - birthDate.getMonth()
	if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
		age = age - 1
	}
	return age
}

function mailRandom(){
	let opciones = ["@hotmail.com","@gmail.com","@outlook.com","@yahoo.com","@tec.mx"]
	return opciones[Math.floor(Math.random() * opciones.length)]
}

function crearCorreo(){
	return nombreRandom() + "." + apellidoRandom() + "." + numerosRandom(2) + mailRandom()
}